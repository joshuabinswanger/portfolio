---
import type { ImageMetadata } from 'astro';
import { Picture } from 'astro:assets';

import RhizomLogo from "../components/Logo.astro"
// imports all files that end with `.astro' in `./src/pages/post/`
const projects = await Astro.glob('../pages/projects/*.astro')

// Extract projectTitle from each page
const pageTitles = projects.map(page => {
  const { projectTitle } = page;
  return { title: projectTitle, url: page.url };
});

import "../styles/global.css"

const logoPath = "/assets/Rhizome_Test2.riv";

---
<!-- <script>
  import * as rive from "@rive-app/canvas";

  const r = new rive.Rive({
      src: "/assets/Rhizome_Test2.riv",
      // OR the path to a discoverable and public Rive asset
      // src: '/public/example.riv',
      canvas: document.getElementById("canvas"),
      autoplay: true,
      stateMachines: "State Machine 1",
      onLoad: () => {
        r.resizeDrawingSurfaceToCanvas();
      },
  });

  window.addEventListener(
    "resize",
    () => {
      r.resizeDrawingSurfaceToCanvas();
    },
    false
  );

   // Add click event listener to canvas
   document.addEventListener("DOMContentLoaded", () => {
    const canvas = document.getElementById("canvas");
    canvas.addEventListener("click", () => {
      window.location.href = "/";
    });
  });
</script> -->



<nav id="NavBar" transition:persist transition:animate="none">

<RhizomLogo />

<ul>
    {pageTitles.map(page => (
       <li><a href={page.url}>{page.title}</a></li>
    ))}
</ul>

</nav>

<style>
@import "../styles/global.css";

ul {
  font-size: var(--font-size-dekstop); 
  margin-top: 0px; 
  padding-left: 7px;

  @media (--bp-mobile){
      font-size: var(--font-size-mobile);
    }

    @media (--bp-tablet){
      font-size: var(--font-size-tablet);
    }

    @media (--bp-desktop-wide){
      font-size: var(--font-size-desktop-wide);
    }
}

li {
  list-style: none;
  margin: 0.5rem 0 0.5rem 0; 
}

a {
  text-decoration: none;
  color: inherit;
}


#NavBar {
	position: sticky;
	align-self: start;
  top: var(--padding-desktop);

		@media (--bp-mobile) {
			display: none;
		}

    @media (--bp-tablet) {
    top: var(--padding-tablet);
  	}

		@media (--bp-desktop-wide) {

      top: var(--padding-desktop-wide);
		}

}

</style>




